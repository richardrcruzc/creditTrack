@using Microsoft.AspNetCore.Identity
@using CreditReport.Models

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@{
    var isInRole = false;
    if (SignInManager.IsSignedIn(User))
    {
        var cu = await UserManager.GetUserAsync(User);
        isInRole = await UserManager.IsInRoleAsync(cu, "Administrators");
    }
}

<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Logo</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">

            <ul class="nav navbar-nav navbar-right">
    
@if (!SignInManager.IsSignedIn(User))
{
    <li><a href="/home/about">Nosotros</a></li>
                <li><a href="/home/services">Servicios</a></li>
                <li><a href="/home/portfolio">Portafolio</a></li>
                <li><a href="/home/pricing">Precios</a></li>
                <li><a href="/home/contact">Contactos</a></li>
}
else
{


    <li><a asp-area="" asp-controller="People" asp-action="index">Personas</a></li>
    <li><a asp-area="" asp-controller="ApplicationRole" asp-action="Index">Role</a></li>
        <li><a asp-area="" asp-controller="User" asp-action="Index">User</a></li>

} 

                @if (SignInManager.IsSignedIn(User))
                {
                              <li>
                                <a asp-area="" asp-controller="Manage" asp-action="Index" title="Manage"><span class="glyphicon glyphicon-user"></span> @UserManager.GetUserName(User) </a>
                            </li>
                            <li>
                                <form asp-area="" asp-controller="Account" asp-action="Logout" method="post" id="logoutForm">

                                    <button type="submit" class="btn btn-link navbar-btn navbar-link"><span class="glyphicon glyphicon-log-out"></span> Log out</button>
                                </form>
</li>
                         
                                      }
                else
                { 
                        <li><a asp-area="" asp-controller="Account" asp-action="Register"> <span class="glyphicon glyphicon-user"></span> Registrarse</a></li>
                        <li><a asp-area="" asp-controller="Account" asp-action="Login"><span class="glyphicon glyphicon-log-in"></span>Log in</a></li>
                   
                }

            </ul>


            
        </div>
    </div>
</nav>


@*<ul class="nav navbar-nav">

        @if (SignInManager.IsSignedIn(User))
{

    <li><a asp-area="" asp-controller="People" asp-action="query">Consultar Personas</a></li>
<li><a asp-area="" asp-controller="People" asp-action="agregar">Registrar Personas</a></li>
<li><a asp-area="" asp-controller="preguntas" asp-action="index">Preguntas </a></li>


    if(isInRole==true)
    {
            <li><a asp-area="" asp-controller="People" asp-action="index">Personas</a></li>
            <li><a asp-area="" asp-controller="ApplicationRole" asp-action="Index">Role</a></li>
            <li><a asp-area="" asp-controller="User" asp-action="Index">User</a></li>
            }

        }
        else
        {
            <li><a asp-area="" asp-controller="Home" asp-action="About">Quienes somos</a></li>
            <li><a asp-area="" asp-controller="Home" asp-action="Contact">Contactenos</a></li>

        }

</ul>*@
